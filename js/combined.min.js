!function(e,t,n,o){e.fn.sonar=function(t,n){return"boolean"==typeof t&&(n=t,t=o),e.sonar(this[0],t,n)};var i,l=n.body,r=e(t),f="scrollin",s="scrollout",a=function(e,i,r){if(e){l||(l=n.body);var f=e,s=0,a=l.offsetHeight,u=t.innerHeight||n.documentElement.clientHeight||l.clientHeight||0,c=n.documentElement.scrollTop||t.pageYOffset||l.scrollTop||0,d=e.offsetHeight||0;if(!e.sonarElemTop||e.sonarBodyHeight!==a){if(f.offsetParent)do s+=f.offsetTop;while(f=f.offsetParent);e.sonarElemTop=s,e.sonarBodyHeight=a}return i=i===o?0:i,!(e.sonarElemTop+(r?0:d)<c-i||e.sonarElemTop+(r?d:0)>c+u+i)}},u={},c=0,d=function(){i&&clearTimeout(i),i=setTimeout(function(){var t,n,o,i,l,r,f;for(o in u)for(n=u[o],r=0,f=n.length;f>r;r++)i=n[r],t=i.elem,l=a(t,i.px,i.full),(o===s?!l:l)?i.tr||(t["_"+o]?(e(t).triggerHandler(o),i.tr=1):(n.splice(r,1),r--,f--)):i.tr=0},0)},p=function(e,t){e["_"+t]=0},h=function(t,n){var o=n.px,i=n.full,l=n.evt,p=a(t,o,i),h=0;t["_"+l]=1,(l===s?!p:p)&&(setTimeout(function(){e(t).triggerHandler(l===s?s:f)},0),h=1),u[l].push({elem:t,px:o,full:i,tr:h}),c||(r.bind("scroll",d),c=1)};e.sonar=a,u[f]=[],e.event.special[f]={add:function(e){var t=e.data||{},n=this;n[f]||h(this,{px:t.distance,full:t.full,evt:f})},remove:function(){p(this,f)}},u[s]=[],e.event.special[s]={add:function(e){var t=e.data||{},n=this;n[s]||h(n,{px:t.distance,full:t.full,evt:s})},remove:function(){p(this,s)}}}(jQuery,window,document);
var BJLL=BJLL||{};!function(e){function a(){var a=200;"undefined"!=typeof BJLL.threshold&&(a=parseInt(BJLL.threshold)),e(".lazy-hidden").not(".data-lazy-ready").one("scrollin.bj_lazy_load",{distance:a},function(){var a=e(this),r=a.attr("data-lazy-type");if("image"==r){var i=a.attr("data-lazy-src");if("yes"==BJLL.load_responsive||"yes"==BJLL.load_hidpi){var n=document.createElement("a");if(n.href=a.attr("data-lazy-src"),!n.hostname.length||n.hostname==window.location.hostname){var d=parseInt(a.css("width"));window.devicePixelRatio>1&&"yes"==BJLL.load_hidpi&&(d=Math.ceil(window.devicePixelRatio*d));var o=a.attr("data-lazy-src");"undefined"!=typeof BJLL.site_url&&"undefined"!=typeof BJLL.network_site_url&&(o=o.replace(BJLL.site_url,BJLL.network_site_url)),i=BJLL.thumb_base+encodeURIComponent(o)+"&w="+d}}a.hide().attr("src",i).removeClass("lazy-hidden").fadeIn(),a.trigger("lazyload.bj")}else if("iframe"==r){var l=e(t(a.attr("data-lazy-src")));a.replaceWith(l),l.trigger("lazyload.bj")}}).addClass("data-lazy-ready")}function t(e){var a,t,r,i,n,d,o,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,h=0,f="",L=[];if(!e)return e;e+="";do i=s.indexOf(e.charAt(c++)),n=s.indexOf(e.charAt(c++)),d=s.indexOf(e.charAt(c++)),o=s.indexOf(e.charAt(c++)),l=i<<18|n<<12|d<<6|o,a=l>>16&255,t=l>>8&255,r=255&l,L[h++]=64==d?String.fromCharCode(a):64==o?String.fromCharCode(a,t):String.fromCharCode(a,t,r);while(c<e.length);return f=L.join("")}e(document).on("ready",a),"yes"==BJLL.infinite_scroll&&e(window).on("scroll",a),e(window).on("resize",function(){e(document).trigger("scroll")})}(jQuery);
